<!-- _partial_video_content.html -->
<div class="mb-4">
    <p id="topic-description" class="text-gray-600 mb-4 protected-content">{{ topic.description }}</p>
    
    <div class="aspect-w-16 aspect-h-9 mb-4">
        {% if topic.VIDEO_CINTETN_FILE %}
            <video id="topic-video" 
                   controls 
                   class="w-full rounded-lg shadow-md protected-video" 
                   data-topic-id="{{ topic.id }}"
                   controlsList="nodownload noremoteplayback" 
                   disablePictureInPicture="true"
                   oncontextmenu="return false;">
                <source src="{{ topic.VIDEO_CINTETN_FILE.url }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            
            {% if not topic_progress.completed %}
            <div class="mt-4 text-center">
                <button id="manual-video-complete-btn" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700" 
                        data-topic-id="{{ topic.id }}">
                    Mark Video as Completed
                </button>
                <p class="mt-2 text-sm text-gray-500">
                    If the video doesn't automatically mark as completed, use this button.
                </p>
            </div>
            {% else %}
            <div class="mt-4 text-center">
                <div class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md inline-block">
                    Completed âœ“
                </div>
            </div>
            {% endif %}
        {% else %}
            <div class="bg-gray-100 p-4 rounded-lg text-center">
                <p>Video content not available.</p>
            </div>
        {% endif %}
    </div>
</div>