{% extends "base.html" %}

{% block title %}Certificate for {{ course.title }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto py-8">
    {% if messages %}
    <div class="mb-6">
        {% for message in messages %}
            <div class="p-4 mb-4 rounded-md {% if message.tags == 'success' %}bg-green-100 text-green-800{% elif message.tags == 'error' %}bg-red-100 text-red-800{% else %}bg-blue-100 text-blue-800{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="bg-green-600 px-6 py-4 text-white">
            <h1 class="text-2xl font-bold">Course Completion Certificate</h1>
            <p class="text-green-100">{{ course.title }}</p>
        </div>
        
        <div class="p-6">
            <div class="text-center py-8 border-4 border-green-200 rounded-lg bg-gray-50 mx-auto max-w-3xl">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Certificate of Completion</h2>
                    <p class="text-gray-600">This is to certify that</p>
                </div>
                
                <p class="text-2xl font-bold text-gray-800 mb-6">
                    {{ certificate.user.get_full_name|default:certificate.user.username }}
                </p>
                
                <p class="text-lg text-gray-700 mb-6">
                    has successfully completed the course<br/>
                    <span class="font-bold text-xl">{{ course.title }}</span>
                </p>
                
                <p class="text-gray-600 mb-8">
                    Issued on: {{ issue_date|date:"F d, Y" }}
                </p>
                
                <div class="mb-6">
                    <div class="h-px w-48 bg-gray-400 mx-auto mb-2"></div>
                    <p class="text-gray-600">Course Instructor</p>
                </div>
                
                <p class="text-sm text-gray-500">
                    Certificate ID: {{ certificate.certificate_id }}
                </p>
            </div>
            
            <div class="mt-8 flex justify-center">
                <a href="{% url 'download_certificate' certificate.certificate_id %}" 
                   class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition flex items-center certificate-download"
                   download="certificate_{{ certificate.certificate_id }}.pdf">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    Download Certificate (PDF)
                </a>
            </div>
            
            <div class="mt-4 text-center">
                <a href="{% url 'profile' %}" class="text-indigo-600 hover:text-indigo-800">
                    Return to Your Profile
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}